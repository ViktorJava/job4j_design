# Коллизии Map

**1. Расписать про коллизии в Hashtable структурах и как они разрешаются в Java.**

Если два объекта **key**, в результате сокращения диапазона хэшируются в один индекс, эта ситуация называется коллизией.

Подобная ситуация решается разными способами. Открытая адресация подразумевает под собой, поиск пустой ячейки в хранилище (массиве). В методе цепочек, искать пустые ячейки в массиве просто не нужно. Существует три разновидности открытой адресации, которые отличаются способом поиска свободной ячейки: линейное пробирование, квадратичное пробирование, двойное хеширование. Метод цепочек применяется в **Java** и реализован по принципу `LinkedList`. Хранилище строится на основе массива, ячейки которого называются бакетами. В случае возникновения коллизии, новый элемент просто добавляется в связанный список построенный на нодах.

**2. Проверка идет сначала по хэш-коду, а потом по equals или наоборот?**

Проверка идёт по хэш-коду, а затем по `equals`.

**3. Что будет в ситуации первой?** 

`O1.hashcode() % size) == (O2.hashcode() % size)`,
причем `O1.hashcode() == O2.hashcode()`

В случае, когда хэш-коды двух ключей равны, происходит проверка объектов на `equals`. Если объекты равны, то в бакете затирается старый нод и на его место записывается новый, в случа когда хэшкоды равны, но объекты по `equals` разные, нод записывается в хвост `LinkedList` структуры.  

**4. Что будет в ситуации второй?**

`O1.hashcode() % size) == (O2.hashcode() % size),`
причем `O1.hashcode() != O2.hashcode()`

Ситуация, когда хэш-код двух ключей разный, но бакеты одинаковые, расценивается как коллизия при том, что объекты однозначно разные, поэтому нет необходимости проферять ключи на `equals`, а сразу записываем в расчётную ноду, но в хвост `LinkedList` структуры.

**5. Какая структура данных помимо списка используется для разрешения коллизий начиная с java 1.8?**

При количестве элементов в одном бакете равном или больше 7 происходит конвертирование связанного списка в красно-черное дерево.
